(this["webpackJsonpactivity-tracker"]=this["webpackJsonpactivity-tracker"]||[]).push([[0],{38:function(e,t,a){e.exports=a(63)},53:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),i=a.n(c),o=a(12),l=a(22),s=a.n(l);a(47),a(51);s.a.initializeApp({apiKey:"AIzaSyC7-JUbYt0bWhBq9BQmpJ10dmxMd2EE5wE",authDomain:"activity-tracker-4c465.firebaseapp.com",databaseURL:"https://activity-tracker-4c465.firebaseio.com",projectId:"activity-tracker-4c465",storageBucket:"activity-tracker-4c465.appspot.com",messagingSenderId:"219528396381",appId:"1:219528396381:web:083709e734ae7c209e57b4",measurementId:"G-T2XCKXQV3T"});var u=s.a.auth(),d=new s.a.auth.GoogleAuthProvider,p=s.a.firestore(),v=a(3),E=a(15),m=function(e){return{type:"LOGIN_BEGIN",payload:e}},g=function(e){return{type:"LOGIN_SUCCESS",payload:e}},b=(a(53),Object(o.b)((function(e){var t=e.login;return Object(v.a)({},t)}),(function(e){return{logout:function(){e({type:"LOGOUT_BEGIN"})},login:function(t){e(m(t))}}}))((function(e){var t=e.isLoggedIn,a=e.logout,n=e.login;return r.a.createElement("header",{className:"main-header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header-inner-wrap"},r.a.createElement("div",{className:"logo-wrap"},r.a.createElement(E.b,{to:"/"},"Activity Tracker")),r.a.createElement("nav",{className:"main-nav"},r.a.createElement("div",{className:"menu-wrap"},r.a.createElement("ul",{className:"nav-menu"},r.a.createElement("li",null,r.a.createElement(E.b,{to:"/create"},"Create")),r.a.createElement("li",null,r.a.createElement(E.b,{to:"/"},"List")),r.a.createElement("li",null,r.a.createElement(E.b,{to:"#",onClick:function(){t?u.signOut().then((function(){a()})):u.signInWithPopup(d).then((function(e){var t=e.user;if(t){var a=t.uid,r=t.email,c=t.displayName,i=t.phoneNumber,o=t.photoURL;n({uid:a,email:r,displayName:c,phoneNumber:i,photoURL:o})}}))}},t?"LogOut":"Login"))))))))}))),y=a(7),f=a(18),I=(a(55),function(e){return{type:"GET_ACTIVITY_BEGIN",payload:e}}),h=a(19),O=(a(56),Object(o.b)((function(e){var t=e.saveActivity;return{pending:t.pending,error:t.error,activity:t.activity}}),(function(e){return{beginSaveActivity:function(t,a){e(function(e,t){return{type:"SAVE_ACTIVITIES_BEGIN",payload:e,history:t}}(t,a))},beginGetActivity:function(t){e(I(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(f.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(""),l=Object(f.a)(o,2),s=l[0],u=l[1],d=Object(n.useState)(""),p=Object(f.a)(d,2),v=p[0],E=p[1];Object(n.useEffect)((function(){e.activity?(i(e.activity.activity),u(e.activity.description),E(e.activity.date)):e.pending||e.beginGetActivity(e.match.params.id)}),[e.activity]);return r.a.createElement("div",{className:"create-activity"},e.activity&&e.activity.id?r.a.createElement("h3",null,"Edit an Activity"):r.a.createElement("h3",null,"Create a New Activity"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.activity&&e.beginSaveActivity({activity:c,description:s,date:v,id:e.activity.id},e.history),!e.pending&&e.error?h.b.error(e.error,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):(i(""),u(""),E(""),h.b.success("Activity saved successfully!",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",value:c,placeholder:"Enter Activity",onChange:function(e){i(e.target.value)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{value:s,rows:"6",placeholder:"Enter Activity Description",onChange:function(e){u(e.target.value)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"date",onChange:function(e){E(e.target.value)},required:!0,value:v})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",null,e.activity&&e.activity.id?"UPDATE":"CREATE"))),r.a.createElement(h.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))}))),T=function(e){return{type:"FETCH_ACTIVITIES_SUCCESS",payload:e}},C=function(e){return{type:"FETCH_ACTIVITIES_FAILURE",payload:e}},A=(a(57),Object(o.b)(null,(function(e){return{filter:function(t){e(function(e){return{type:"SEARCH_ACTIVITY",payload:e}}(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(f.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(""),l=Object(f.a)(o,2),s=l[0],u=l[1],d=Object(n.useState)(""),p=Object(f.a)(d,2),v=p[0],E=p[1];return r.a.createElement("div",{className:"search"},r.a.createElement("h2",null,"Filter your activities"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.filter({activity:c,startDate:s,endDate:v})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"search",placeholder:"Search by activity",value:c,onChange:function(e){i(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"date",placeholder:"Search by Start Date",value:s,onChange:function(e){u(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"date",placeholder:"Search by End Date",value:v,onChange:function(e){E(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",null,"Search"))))}))),j=(a(58),function(){return r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),S=(a(59),Object(o.b)((function(e){var t=e.listActivity;return{activities:t.activities,error:t.error,loading:t.loading,pending:t.pending}}),(function(e){return{fetchActivities:function(){e({type:"FETCH_ACTIVITIES_BEGIN"})},deleteActivity:function(t){e(function(e){return{type:"DELETE_ACTIVITY_BEGIN",payload:e}}(t))},beginGetActivity:function(t){e(I(t))}}}))((function(e){return Object(n.useEffect)((function(){e.fetchActivities()}),[]),r.a.createElement("div",{className:"list-activity"},e.loading&&r.a.createElement(j,null),r.a.createElement(A,null),r.a.createElement("h2",null,"List of activities"),r.a.createElement("div",{className:"activity-container"},r.a.createElement("div",{className:"col"},"Activity Title"),r.a.createElement("div",{className:"col"},"Description"),r.a.createElement("div",{className:"col"},"Activity Date"),r.a.createElement("div",{className:"col"},"Actions"),e.activities&&e.activities.map((function(t){return r.a.createElement(n.Fragment,{key:t.id},r.a.createElement("div",null,t.activity),r.a.createElement("div",null,t.description),r.a.createElement("div",null,t.date),r.a.createElement("div",{className:"links"},r.a.createElement(E.b,{to:"#",onClick:function(){e.beginGetActivity(t.id),e.history.push("/edit/".concat(t.id))}},"Edit |"," "),r.a.createElement(E.b,{to:"#",onClick:function(){window.confirm("Are you sure you want to delete this activity?")&&(e.deleteActivity(t.id),!e.pending&&e.error?h.b.error(e.error,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):h.b.success("Activity deleted successfully!",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))}},"Delete")))}))),r.a.createElement(h.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))})));a(60);var _=Object(o.b)((function(e){return{isLoggedIn:e.login.isLoggedIn}}),(function(e){return{login:function(t){e(m(t))}}}))((function(e){var t=e.isLoggedIn,a=e.login;return Object(n.useEffect)((function(){u.onAuthStateChanged((function(e){e?a({email:e.email,displayName:e.displayName,phoneNumber:e.phoneNumber,uid:e.uid}):console.log("user is not logged in")}))}),[]),r.a.createElement(E.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(y.a,{path:"/create",render:function(e){return t?r.a.createElement(O,e):r.a.createElement("h1",null,"Please login")}}),r.a.createElement(y.a,{exact:!0,path:"/",render:function(e){return t?r.a.createElement(S,e):r.a.createElement("h1",null,"Please login")}}),r.a.createElement(y.a,{exact:!0,path:"/edit/:id",render:function(e){return t?r.a.createElement(O,e):r.a.createElement("h1",null,"Please login")}})))})),N=a(16),x={error:"",pending:!1,activity:null},L={activities:[],error:"",loading:!1,pending:!1},w={isLoggedIn:!1,user:null,pending:!1,error:null},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_BEGIN":case"LOGOUT_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{user:null,pending:!0,isLoggedIn:!1,error:""});case"LOGIN_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{user:t.payload,pending:!1,isLoggedIn:!0,error:""});case"LOGIN_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{error:t.payload,pending:!1,isLoggedIn:!1,user:null});default:return e}},G=Object(N.c)({saveActivity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_ACTIVITIES_BEGIN":case"GET_ACTIVITY_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{error:"",pending:!0,activity:[]});case"SAVE_ACTIVITIES_FAILURE":case"GET_ACTIVITY_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{error:t.payload,pending:!1});case"SAVE_ACTIVITIES_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{error:"",pending:!1,activity:[]});case"GET_ACTIVITY_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{error:"",pending:!1,activity:t.payload});default:return e}},listActivity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_ACTIVITY":case"FETCH_ACTIVITIES_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"FETCH_ACTIVITIES_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{activities:t.payload,error:"",loading:!1});case"FETCH_ACTIVITIES_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{activities:[],error:t.payload,loading:!1});case"DELETE_ACTIVITY_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0,error:"",pending:!0});case"DELETE_ACTIVITY_SUCCESS":var a=e.activities.filter((function(e){return e.id!==t.payload}));return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:"",activities:a,pending:!1});case"DELETE_ACTIVITY_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload,pending:!1});default:return e}},login:k}),V=a(37),B=a(10),U=a.n(B),D=a(6),F=U.a.mark(W),R=U.a.mark(z),Y=U.a.mark(K),H=U.a.mark(M),P=U.a.mark(Q),q=U.a.mark(X),J=U.a.mark($);function W(){var e,t,a,n;return U.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(D.b)();case 3:return e=r.sent,t=e.login.user.uid,r.next=7,p.collection("activities").orderBy("date","desc").where("userId","==",t).get();case 7:return a=r.sent,n=[],a.forEach((function(e){var t=e.data();n.push(Object(v.a)({id:e.id},t))})),r.next=12,Object(D.a)(T(n));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,Object(D.a)(C(r.t0));case 18:case"end":return r.stop()}}),F,null,[[0,14]])}function z(e){var t,a,n,r,c;return U.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,a=e.history,i.prev=1,i.next=4,Object(D.b)();case 4:if(n=i.sent,r=n.login.user.uid,!t.id){i.next=14;break}return i.next=9,p.collection("activities").doc(t.id);case 9:return c=i.sent,i.next=12,c.update({activity:t.activity,description:t.description,date:t.date});case 12:i.next=16;break;case 14:return i.next=16,p.collection("activities").add({activity:t.activity,description:t.description,date:t.date,userId:r});case 16:return i.next=18,Object(D.a)({type:"SAVE_ACTIVITIES_SUCCESS"});case 18:a.push("/"),i.next=25;break;case 21:return i.prev=21,i.t0=i.catch(1),i.next=25,Object(D.a)({type:"SAVE_ACTIVITIES_FAILURE",payload:i.t0});case 25:case"end":return i.stop()}}),R,null,[[1,21]])}function K(e){var t,a,n,r,c,i,o,l;return U.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.prev=1,s.next=4,Object(D.b)();case 4:return a=s.sent,n=a.login.user.uid,r=t.startDate,c=t.endDate,i=t.activity,o=p.collection("activities"),r&&(o=o.where("date",">=",r)),c&&(o=o.where("date","<=",c)),i&&(o=o.where("activity","==",i)),s.next=13,o.where("userId","==",n).get();case 13:return o=s.sent,l=[],o.forEach((function(e){var t=e.data();l.push(t)})),s.next=18,Object(D.a)(T(l));case 18:s.next=24;break;case 20:return s.prev=20,s.t0=s.catch(1),s.next=24,Object(D.a)(C(s.t0));case 24:case"end":return s.stop()}}),Y,null,[[1,20]])}function M(e){var t,a;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(D.b)();case 3:return t=n.sent,a=t.login.user.uid,n.next=7,p.collection("activities").doc(e.payload).where("userId","==",a).delete();case 7:return n.next=9,Object(D.a)({type:"DELETE_ACTIVITY_SUCCESS",payload:e.payload});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(D.a)({type:"DELETE_ACTIVITY_FAILURE",payload:n.t0});case 15:case"end":return n.stop()}}),H,null,[[0,11]])}function Q(e){var t,a;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,p.collection("activities").doc(t).get();case 4:return a=n.sent,n.next=7,Object(D.a)({type:"GET_ACTIVITY_SUCCESS",payload:Object(v.a)(Object(v.a)({},a.data()),{},{id:a.id})});case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,Object(D.a)({type:"GET_ACTIVITY_FAILURE",payload:n.t0});case 13:case"end":return n.stop()}}),P,null,[[1,9]])}function X(e){var t;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,p.collection("users").doc(t.uid).get();case 4:if(a.sent.exists){a.next=8;break}return a.next=8,p.collection("users").doc(t.uid).set({email:t.email,displayName:t.displayName,phoneNumber:t.phoneNumber,photoURL:t.photoURL});case 8:return a.next=10,Object(D.a)(g(t));case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(1),a.next=16,Object(D.a)({type:"LOGIN_FAILURE",payload:a.t0});case 16:case"end":return a.stop()}}),q,null,[[1,12]])}function $(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.c)("FETCH_ACTIVITIES_BEGIN",W);case 2:return e.next=4,Object(D.c)("SAVE_ACTIVITIES_BEGIN",z);case 4:return e.next=6,Object(D.c)("SEARCH_ACTIVITY",K);case 6:return e.next=8,Object(D.c)("DELETE_ACTIVITY_BEGIN",M);case 8:return e.next=10,Object(D.c)("GET_ACTIVITY_BEGIN",Q);case 10:return e.next=12,Object(D.c)("LOGIN_BEGIN",X);case 12:case"end":return e.stop()}}),J)}var Z=$;a(62),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=Object(V.a)(),te=Object(N.e)(G,Object(N.a)(ee));ee.run(Z),i.a.render(r.a.createElement(o.a,{store:te},r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.fc36fda4.chunk.js.map